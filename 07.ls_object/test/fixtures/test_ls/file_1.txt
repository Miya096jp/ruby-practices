
#!/usr/bin/env ruby

# frozen_string_literal: true

require_relative './lib/options'
require_relative './lib/entry'
require_relative './lib/paths'
require_relative './lib/formatter/ls_formatter'
require_relative './lib/formatter/ls_short'
require_relative './lib/formatter/ls_long'


  def self.parse_paths(options)
    Paths.new(options).parse
  end

  def self.parse_entries(paths)
    paths.map { |path| Entry.new(path, File::Stat.new(path)) }
  end

  def self.select_formatter(entries, options)
    options.long_format? ? LsLong.new(entries) : LsShort.new(entries)
  end
end

Ls.run
