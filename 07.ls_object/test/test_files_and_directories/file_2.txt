
COLUMN = 3

FILETYPE = {
  '1' => 'p',
  '2' => 'c',
  '4' => 'd',
  '6' => 'b',
  '10' => '-',
  '12' => 'l',
  '14' => 's'
}.freeze

REGULAR_MODE = {
COLUMN = 3

FILETYPE = {
  '1' => 'p',
  '2' => 'c',
  '4' => 'd',
  '6' => 'b',
  '10' => '-',
  '12' => 'l',
  '14' => 's'
}.freeze

REGULAR_MODE = {
  '0' => '---',
  '1' => '--x',
  '2' => '-w-',
  '3' => '-wx',
  '4' => 'r--',
  '5' => 'r-x',
  '6' => 'rw-',
  '7' => 'rwx'
}.freeze

SUID_SGID = {
  '0' => '---',
  '1' => '--s',
  '2' => '-wS',
  '3' => '-ws',
  '4' => 'r-S',
  '5' => 'r-s',
  '6' => 'rwS',
  '7' => 'rws'
}.freeze

STICKY_BIT = {
  '0' => '---',
  '1' => '--t',
  '2' => '-wT',
  '3' => '-wt',
  '4' => 'r-T',
  '5' => 'r-t',
  '6' => 'rwT',
  '7' => 'rwt'
}.freeze

class Ls
  def self.run(arguments = ARGV)
    options = parse_options(arguments)
    paths = parse_paths(options)
    entries = parse_entries(paths)
    ls = select_formatter(entries, options)
    ls.print
  end

  def self.parse_options(arguments)
    opts = OptionParser.new
    Options.new(opts, arguments)
  end
